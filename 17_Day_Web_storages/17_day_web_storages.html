

<p><a href="../16_Day_JSON/16_day_json.html">&lt;&lt; Day 16</a> | <a href="../18_Day_Promises/18_day_promises.html">Day
    18 &gt;&gt;</a></p>
<p><img src="../images/banners/day_1_17.png" alt="Thirty Days Of JavaScript"></p>
<ul>
  <li><a href="#day-17">Day 17</a>
    <ul>
      <li><a href="#html5-web-storage">HTML5 Web Storage</a>
        <ul>
          <li><a href="#sessionstorage">sessionStorage</a></li>
          <li><a href="#localstorage">localStorage</a></li>
          <li><a href="#use-case-of-web-storages">Use case of Web Storages</a></li>
        </ul>
      </li>
      <li><a href="#html5-web-storage-objects">HTML5 Web Storage Objects</a>
        <ul>
          <li><a href="#setting-item-to-the-localstorage">Setting item to the localStorage</a></li>
          <li><a href="#getting-item-from-localstorage">Getting item from localStorage</a></li>
          <li><a href="#clearing-the-localstorage">Clearing the localStorage</a></li>
        </ul>
      </li>
      <li><a href="#exercises">Exercises</a>
        <ul>
          <li><a href="#exercises-level-1">Exercises: Level 1</a></li>
          <li><a href="#exercises-level-2">Exercises: Level 2</a></li>
          <li><a href="#exercises-level-3">Exercises: Level 3</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<h1 id="day-17">Day 17</h1>
<h2 id="html5-web-storage">HTML5 Web Storage</h2>
<p>Web Storage(sessionStorage and localStorage) is a new HTML5 API offering important benefits over traditional cookies.
  Before HTML5, application data had to be stored in cookies, included in every server request. Web storage is more
  secure, and large amounts of data can be stored locally, without affecting website performance. The data storage limit
  of cookies in many web browsers is about 4 KB per cookie. We Storages can store far larger data (at least 5MB) and
  never transferred to the server. All sites from the same or one origin can store and access the same data.</p>
<p>The data being stored can be accessed using JavaScript, which gives you the ability to leverage client-side scripting
  to do many things that have traditionally involved server-side programming and relational databases. There are two Web
  Storage objects:</p>
<ul>
  <li>sessionStorage</li>
  <li>localStorage</li>
</ul>
<p>localStorage is similar to sessionStorage, except that while data stored in localStorage has no expiration time, data
  stored in sessionStorage gets cleared when the page session ends — that is, when the page is closed.</p>
<p>It should be noted that data stored in either localStorage or sessionStorage is specific to the protocol of the page.
</p>
<p>The keys and the values are always strings (note that, as with objects, integer keys will be automatically converted
  to strings).</p>
<p><img src="../images/web_storage.png" alt="web_storage"></p>
<h3 id="sessionstorage">sessionStorage</h3>
<p>sessionStorage is only available within the browser tab or window session. It’s designed to store data in a single
  web page session. That means if the window is closed the session data will be removed. Since sessionStorage and
  localStorage has similar methods, we will focus only on localStorage.</p>
<h3 id="localstorage">localStorage</h3>
<p>The HTML5 localStorage is the para of the web storage API which is used to store data on the browser with no
  expiration data. The data will be available on the browser even after the browser is closed. localStorage is kept even
  between browser sessions. This means data is still available when the browser is closed and reopened, and also
  instantly between tabs and windows.</p>
<p>Web Storage data is, in both cases, not available between different browsers. For example, storage objects created in
  Firefox cannot be accessed in Internet Explorer, exactly like cookies. There are five methods to work on local
  storage:
  <em>setItem(), getItem(), removeItem(), clear(), key()</em>
</p>
<h3 id="use-case-of-web-storages">Use case of Web Storages</h3>
<p>Some use case of Web Storages are</p>
<ul>
  <li>store data temporarily</li>
  <li>saving products that the user places in his shopping cart</li>
  <li>data can be made available between page requests, multiple browser tabs, and also between browser sessions using
    localStorage</li>
  <li>can be used offline completely using localStorage</li>
  <li>Web Storage can be a great performance win when some static data is stored on the client to minimize the number of
    subsequent requests. Even images can be stored in strings using Base64 encoding.</li>
  <li>can be used for user authentication method</li>
</ul>
<p>For the examples mentioned above, it makes sense to use localStorage. You may be wondering, then, when we should use
  sessionStorage.</p>
<p>In cases, we want to to get rid of the data as soon as the window is closed. Or, perhaps, if we do not want the
  application to interfere with the same application that’s open in another window. These scenarios are served best with
  sessionStorage.</p>
<p>Now, let us see how make use of these Web Storage APIs.</p>
<h2 id="html5-web-storage-objects">HTML5 Web Storage Objects</h2>
<p>HTML web storage provides two objects for storing data on the client:</p>
<ul>
  <li>window.localStorage - stores data with no expiration date</li>
  <li>window.sessionStorage - stores data for one session (data is lost when the browser tab is closed)Most modern
    browsers support Web Storage, however it is good to check browser support for localStorage and sessionStorage. Let
    us see the available methods for the Web Storage objects.</li>
</ul>
<p>Web Storage objects:</p>
<ul>
  <li><em>localStorage</em> - to display the localStorage object</li>
  <li><em>localStorage.clear()</em> - to remove everything in the local storage</li>
  <li><em>localStorage.setItem()</em> - to store data in the localStorage. It takes a key and a value parameters.</li>
  <li><em>localStorage.getItem()</em> - to display data stored in the localStorage. It takes a key as a parameter.</li>
  <li><em>localStorage.removeItem()</em> - to remove stored item form a localStorage. It takes key as a parameter.</li>
  <li><em>localStorage.key()</em> - to display a data stored in a localStorage. It takes index as a parameter.</li>
</ul>
<p><img src="../images/local_storage.png" alt="local_storage"></p>
<h3 id="setting-item-to-the-localstorage">Setting item to the localStorage</h3>
<p>When we set data to be stored in a localStorage, it will be stored as a string. If we are storing an array or an
  object, we should stringify it first to keep the format unless otherwise we lose the array structure or the object
  structure of the original data.</p>
<p>We store data in the localStorage using the <em>localStorage.setItem</em> method.</p>
<pre><code class="language-js">//syntax
localStorage.setItem(&#39;key&#39;, &#39;value&#39;)
</code></pre>
<ul>
  <li>Storing string in a localStorage</li>
</ul>
<pre><code class="language-js">localStorage.setItem(&#39;firstName&#39;, &#39;Asabeneh&#39;) // since the value is string we do not stringify it
console.log(localStorage)
</code></pre>
<pre><code class="language-sh">Storage {firstName: &#39;Asabeneh&#39;, length: 1}
</code></pre>
<ul>
  <li>Storing number in a local storage</li>
</ul>
<pre><code class="language-js">localStorage.setItem(&#39;age&#39;, 200)
console.log(localStorage)
</code></pre>
<pre><code class="language-sh"> Storage {age: &#39;200&#39;, firstName: &#39;Asabeneh&#39;, length: 2}
</code></pre>
<ul>
  <li>Storing an array in a localStorage. If we are storing an array, an object or object array, we should stringify the
    object first. See the example below.</li>
</ul>
<pre><code class="language-js">const skills = [&#39;HTML&#39;, &#39;CSS&#39;, &#39;JS&#39;, &#39;React&#39;]
//Skills array has to be stringified first to keep the format.
const skillsJSON = JSON.stringify(skills, undefined, 4)
localStorage.setItem(&#39;skills&#39;, skillsJSON)
console.log(localStorage)
</code></pre>
<pre><code class="language-sh">Storage {age: &#39;200&#39;, firstName: &#39;Asabeneh&#39;, skills: &#39;HTML,CSS,JS,React&#39;, length: 3}
</code></pre>
<pre><code class="language-js">let skills = [
  { tech: &#39;HTML&#39;, level: 10 },
  { tech: &#39;CSS&#39;, level: 9 },
  { tech: &#39;JS&#39;, level: 8 },
  { tech: &#39;React&#39;, level: 9 },
  { tech: &#39;Redux&#39;, level: 10 },
  { tech: &#39;Node&#39;, level: 8 },
  { tech: &#39;MongoDB&#39;, level: 8 }
]

let skillJSON = JSON.stringify(skills)
localStorage.setItem(&#39;skills&#39;, skillJSON)
</code></pre>
<ul>
  <li>Storing an object in a localStorage. Before we storage objects to a localStorage, the object has to be
    stringified.</li>
</ul>
<pre><code class="language-js">const user = {
  firstName: &#39;Asabeneh&#39;,
  age: 250,
  skills: [&#39;HTML&#39;, &#39;CSS&#39;, &#39;JS&#39;, &#39;React&#39;]
}

const userText = JSON.stringify(user, undefined, 4)
localStorage.setItem(&#39;user&#39;, userText)
</code></pre>
<h3 id="getting-item-from-localstorage">Getting item from localStorage</h3>
<p>We get data from the local storage using <em>localStorage.getItem()</em> method.</p>
<pre><code class="language-js">//syntax
localStorage.getItem(&#39;key&#39;)
</code></pre>
<pre><code class="language-js">let firstName = localStorage.getItem(&#39;firstName&#39;)
let age = localStorage.getItem(&#39;age&#39;)
let skills = localStorage.getItem(&#39;skills&#39;)
console.log(firstName, age, skills)
</code></pre>
<pre><code class="language-sh"> &#39;Asabeneh&#39;, &#39;200&#39;, &#39;[&#39;HTML&#39;,&#39;CSS&#39;,&#39;JS&#39;,&#39;React&#39;]&#39;
</code></pre>
<p>As you can see the skill is in a string format. Let us use JSON.parse() to parse it to normal array.</p>
<pre><code class="language-js">let skills = localStorage.getItem(&#39;skills&#39;)
let skillsObj = JSON.parse(skills, undefined, 4)
console.log(skillsObj)
</code></pre>
<pre><code class="language-sh">[&#39;HTML&#39;,&#39;CSS&#39;,&#39;JS&#39;,&#39;React&#39;]
</code></pre>
<h3 id="clearing-the-localstorage">Clearing the localStorage</h3>
<p>The clear method, will clear everything stored in the local storage</p>
<pre><code class="language-js">localStorage.clear()
</code></pre>
<p>🌕 You are determined .Now, you knew a Web Storages and you knew how to store small data on client browsers. You are
  17 steps a head to your way to greatness. Now do some exercises for your brain and for your muscle.</p>
<h2 id="exercises">Exercises</h2>
<h3 id="exercises-level-1">Exercises: Level 1</h3>
<ol>
  <li>Store you first name, last name, age, country, city in your browser localStorage.</li>
</ol>
<h3 id="exercises-level-2">Exercises: Level 2</h3>
<ol>
  <li>Create a student object. The student object will have first name, last name, age, skills, country, enrolled keys
    and values for the keys. Store the student object in your browser localStorage.</li>
</ol>
<h3 id="exercises-level-3">Exercises: Level 3</h3>
<ol>
  <li>Create an object called personAccount. It has firstname, lastname, incomes, expenses properties and it has
    totalIncome, totalExpense, accountInfo,addIncome, addExpense and accountBalance methods. Incomes is a set of incomes
    and its description and expenses is also a set of expenses and its description.</li>
</ol>
<p>🎉 CONGRATULATIONS ! 🎉</p>
<p><a href="../16_Day_JSON/16_day_json.html">&lt;&lt; Day 16</a> | <a href="../18_Day_Promises/18_day_promises.html">Day
    18 &gt;&gt;</a></p>